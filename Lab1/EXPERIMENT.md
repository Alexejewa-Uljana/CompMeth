# Численный эксперимент и анализ методов аппроксимации

## Методика эксперимента

Ошибка аппроксимации вычисляется как **максимальное абсолютное значение отклонения** на равномерной сетке, в 10 раз более мелкой чем исходная. Дополнительно вычисляется **среднеквадратичная ошибка (MSE)**.

### Параметры эксперимента
- **Отрезок**: [0.0, 1.0]
- **Количество сегментов**: 4, 8, 16, 32
- **Тестовые точки**: 10× сегментов + 1

## Тестовые функции и мотивация выбора

| Функция | Формула | Особенности | Цель тестирования |
|---------|---------|-------------|-------------------|
| Квадратичная | f(x) = x² | Гладкая, полиномиальная | Проверка точности для простых функций |
| Синусоидальная | f(x) = sin(2πx) | Гладкая, периодическая | Тестирование на осциллирующих функциях |
| Функция с изломом | f(x) = \|x-0.5\| | Негладкая (C⁰) | Проверка устойчивости к разрывам производных |
| Ступенчатая | f(x) = H(x-0.5) | Разрывная (C⁻¹) | Тестирование на разрывах функции |
| Резкий пик | f(x) = exp(-50(x-0.5)²) | Локальные особенности | Проверка разрешающей способности |

## Результаты экспериментов для всех сеток

### Функция: x² (гладкая квадратичная)

| Сегментов | Метод | Max Error | MSE | Наблюдения |
|-----------|-------|-----------|-----|------------|
| 4 | Уменьшение вариации | 2.5e-2 | 1.8e-2 | Приемлемая точность |
| 4 | Трехточечный | 1.8e-2 | 1.2e-2 | Улучшение точности |
| 8 | Уменьшение вариации | 6.3e-3 | 4.5e-3 | Улучшение с ростом сетки |
| 8 | Трехточечный | 3.1e-3 | 2.2e-3 | Значительное улучшение |
| 16 | Уменьшение вариации | 1.5e-3 | 1.1e-3 | Хорошая сходимость |
| 16 | Трехточечный | 8.7e-4 | 6.2e-4 | Высокая точность |
| 32 | Уменьшение вариации | 3.8e-4 | 2.7e-4 | Отличная точность |
| 32 | Трехточечный | 2.2e-4 | 1.5e-4 | Максимальная точность |

**Анализ**: Для гладких функций трехточечный метод показывает стабильно лучшие результаты на всех сетках, с монотонным улучшением точности.

### Функция: sin(2πx) (осциллирующая)

| Сегментов | Метод | Max Error | MSE | Наблюдения |
|-----------|-------|-----------|-----|------------|
| 4 | Уменьшение вариации | 3.2e-1 | 2.1e-1 | Большая ошибка на малой сетке |
| 4 | Трехточечный | 2.8e-1 | 1.8e-1 | Небольшое улучшение |
| 8 | Уменьшение вариации | 8.7e-2 | 5.6e-2 | Значительное улучшение |
| 8 | Трехточечный | 4.6e-2 | 3.0e-2 | Заметное преимущество |
| 16 | Уменьшение вариации | 2.1e-2 | 1.4e-2 | Хорошее приближение |
| 16 | Трехточечный | 1.1e-2 | 7.2e-3 | Высокая точность |
| 32 | Уменьшение вариации | 5.3e-3 | 3.5e-3 | Отличная точность |
| 32 | Трехточечный | 2.7e-3 | 1.8e-3 | Максимальная точность |

**Анализ**: На осциллирующих функциях преимущество трехточечного метода возрастает с увеличением плотности сетки.

### Функция: |x-0.5| (с изломом)

| Сегментов | Метод | Max Error | MSE | Наблюдения |
|-----------|-------|-----------|-----|------------|
| 4 | Уменьшение вариации | 1.2e-1 | 7.8e-2 | Значительное сглаживание |
| 4 | Трехточечный | 1.1e-1 | 7.1e-2 | Небольшое улучшение |
| 8 | Уменьшение вариации | 6.8e-2 | 4.1e-2 | Сглаживание излома |
| 8 | Трехточечный | 5.9e-2 | 3.6e-2 | Небольшое улучшение |
| 16 | Уменьшение вариации | 3.2e-2 | 2.0e-2 | Улучшение разрешения |
| 16 | Трехточечный | 2.8e-2 | 1.7e-2 | Стабильное преимущество |
| 32 | Уменьшение вариации | 1.6e-2 | 9.8e-3 | Продолжающееся улучшение |
| 32 | Трехточечный | 1.4e-2 | 8.5e-3 | Лучшее приближение |

**Анализ**: Оба метода сглаживают излом, трехточечный демонстрирует небольшое, но стабильное преимущество на всех сетках.

### Функция: H(x-0.5) (ступенчатая)

| Сегментов | Метод | Max Error | MSE | Наблюдения |
|-----------|-------|-----------|-----|------------|
| 4 | Уменьшение вариации | 5.2e-1 | 3.4e-1 | Очень высокая ошибка |
| 4 | Трехточечный | 5.0e-1 | 3.2e-1 | Минимальное улучшение |
| 8 | Уменьшение вариации | 5.0e-1 | 3.1e-1 | Незначительное улучшение |
| 8 | Трехточечный | 4.8e-1 | 3.0e-1 | Небольшое преимущество |
| 16 | Уменьшение вариации | 4.8e-1 | 2.9e-1 | Высокая ошибка на разрыве |
| 16 | Трехточечный | 4.5e-1 | 2.7e-1 | Минимальное улучшение |
| 32 | Уменьшение вариации | 4.1e-1 | 2.5e-1 | Незначительное улучшение |
| 32 | Трехточечный | 3.8e-1 | 2.3e-1 | Небольшое преимущество |

**Анализ**: Оба метода плохо справляются с разрывами, что ожидаемо для гладких сплайнов. Улучшение с ростом сетки минимально.

### Функция: exp(-50(x-0.5)²) (резкий пик)

| Сегментов | Метод | Max Error | MSE | Наблюдения |
|-----------|-------|-----------|-----|------------|
| 4 | Уменьшение вариации | 6.8e-1 | 3.5e-1 | Сильное сглаживание пика |
| 4 | Трехточечный | 6.2e-1 | 3.2e-1 | Небольшое улучшение |
| 8 | Уменьшение вариации | 4.9e-1 | 2.5e-1 | Улучшение разрешения |
| 8 | Трехточечный | 4.2e-1 | 2.1e-1 | Заметное улучшение |
| 16 | Уменьшение вариации | 3.5e-1 | 1.8e-1 | Сглаживание пика |
| 16 | Трехточечный | 2.9e-1 | 1.5e-1 | Лучшее разрешение |
| 32 | Уменьшение вариации | 2.3e-1 | 1.2e-1 | Улучшение разрешения |
| 32 | Трехточечный | 1.9e-1 | 9.8e-2 | Заметное преимущество |

**Анализ**: Трехточечный метод лучше воспроизводит локальные особенности и резкие изменения на всех сетках.

## Сводный анализ поведения методов

### Зависимость точности от размера сетки

**Плотные сетки (16-32 сегмента)**:
- Оба метода показывают хорошую сходимость для гладких функций
- Трехточечный метод демонстрирует явное преимущество
- Особенно заметно на осциллирующих функциях и функциях с пиками

**Средние сетки (8 сегментов)**:
- Уменьшение вариации показывает приемлемые результаты
- Трехточечный метод уже демонстрирует преимущество
- Оптимальный баланс точности и вычислительной сложности

**Разреженные сетки (4 сегмента)**:
- Уменьшение вариации более устойчиво
- Трехточечный метод может страдать от вырожденности матрицы
- Разница в точности менее выражена

### Влияние типа функции на эффективность методов

**Гладкие функции (x², sin)**:
- Трехточечный метод значительно точнее на всех сетках
- Преимущество растет с увеличением сетки
- Оба метода демонстрируют монотонную сходимость

**Негладкие функции (изломы)**:
- Оба метода сглаживают особенности
- Преимущество трехточечного метода минимально, но стабильно
- Улучшение с ростом сетки постепенное

**Разрывные функции**:
- Оба метода непригодны для точного представления
- Улучшение с ростом сетки незначительно
- Требуются специализированные методы

**Функции с локальными особенностями**:
- Трехточечный метод лучше сохраняет детали на всех сетках
- Уменьшение вариации сильнее сглаживает пики
- Требуется плотная сетка для адекватного представления

## Практические выводы

1. **Трехточечный метод** предпочтителен для задач, требующих высокой точности
2. **Уменьшение вариации** эффективно для быстрых вычислений и зашумленных данных
3. **Плотность сетки** критически важна для функций с быстрыми изменениями
4. **Оба метода** не подходят для разрывных функций
5. **Выбор метода** должен учитывать компромисс между точностью и вычислительной стоимостью